#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
import shelve
from queue import Queue, LifoQueue
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#

#-----------------------------------------------------#
#   TẠO DỮ LIỆU STACK =  QUERE LifoQueue
#-----------------------------------------------------#
def create_quere(list_obj):
    quere_obj = LifoQueue()
    for i in list_obj:
        quere_obj.put(i)
    # print(quere_obj.qsize()) # xem Size
    return quere_obj
#-----------------------------------------------------#
#   GHI DỮ LIỆU BINARY : LIST
#-----------------------------------------------------#
def write_bin_from_list(bin_filepath,item_name,list_data):
    # WRITE BINARY
    with shelve.open(bin_filepath,) as sf:
        sf[item_name] = list_data
        # print(f"Thành công ghi Binary: {bin_filepath}")
    # read_bin(bin_filepath,item_name)
#-----------------------------------------------------#
#   GHI DỮ LIỆU BINARY : QUERE
#-----------------------------------------------------#
def write_bin_quere_object(bin_filepath,item_name,quere_obj):
    # WRITE BINARY
    with shelve.open(bin_filepath,) as sf:
        sf[item_name] = [quere_obj.get() for _ in range(quere_obj.qsize())]
        print(f"Thành công ghi Binary: {bin_filepath}")
    read_bin(bin_filepath,item_name)
#-----------------------------------------------------#
#   ĐỌC DỮ LIỆU BINARY
#-----------------------------------------------------#
def read_bin(bin_filepath,item_name):
    # READ BINARY
    list_obj = None
    with shelve.open(bin_filepath) as sf:
        list_obj = sf[item_name]    
    return create_quere(list_obj)
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------------------------------------------------------#
if __name__ == '__main__':  
    """test"""
    #TEST
    # quere_obj = LifoQueue()#Queue()
    # quere_obj.put(1)
    # quere_obj.put(2)
    # quere_obj.put(3)
    # quere_obj.put(4)
    # quere_obj.put(5)
    # # print(quere_obj.qsize()) # xem Size
    # print(quere_obj.get())
    # print(quere_obj.get())

    # quere_obj

    # quere_obj_2 = ["1",2,3]
    # write_bin("my_data","Quere",[quere_obj.get() for _ in range(quere_obj.qsize())])
    # read_bin("my_data","Quere")

    # write_bin_quere_object("my_data","Quere",quere_obj)
    # print(quere_obj.qsize())